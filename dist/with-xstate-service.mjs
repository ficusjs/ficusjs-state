function withXStateService(e,t){return{...t,created(){this._setupService(e),t.created&&t.created.call(this)},send(e){this.service.send(e)},mounted(){this._startService(),t.mounted&&t.mounted.call(this)},updated(){this._startService(),t.updated&&t.updated.call(this)},removed(){this._stopService(),t.removed&&t.removed.call(this)},_setupService(e){this.service=e,this.subscription=e.subscribe((e=>{this.state=e,this.computedCache={},this._processRender()})),this._startService()},_startService(){this.service&&this.subscription&&"Running"!==this.service.status&&this.service.start()},_stopService(){this.service&&this.subscription&&"Running"===this.service.status&&this.service.stop()}}}export{withXStateService};
